@model DataAnalysisSystem.DTO.Scripts.ValidateFormWithCheckboxesAndOpenModalScriptViewModel

<script>
      function openModalWaiter(e) {
          var form = $("#@Model.FormId");
          form.validate();

          @foreach (var checkbox in Model.CheckboxesToLimitValidation)
          {

              @:if($('#@checkbox.CheckboxContainerId').css('display') == 'none') {
                 @:$('#@Model.ValidationContainerId').css("display", "none");
              @:}
              @:else
              @:{
                 @:if ($('@checkbox.CheckboxClass:checked').length < @checkbox.MinAmountOfCheckedCheckboxes) {
                  @:$('#@Model.ValidationContainerId').css("display", "block");
                  @:e.preventDefault();
                  @:return false;
                 @:}
              @:}

              @*@:if ($('@checkbox.CheckboxClass:checked').length < @checkbox.MinAmountOfCheckedCheckboxes) {
                  @:$('#@Model.ValidationContainerId').css("display", "block");
                  @:return false;
             @:}*@
          };

          if (form.valid()) {
                $('#@Model.ValidationContainerId').css("display", "hidden");
                $('#@Model.ModalId').modal('open');
            }
        }
</script>